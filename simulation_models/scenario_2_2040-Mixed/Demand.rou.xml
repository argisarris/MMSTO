<?xml version="1.0" encoding="UTF-8"?>
<!-- SUMO Traffic Demand/Flow Definitions for A3 Highway Network -->
<!-- Time Period: Morning Peak Hour (07:00 - 08:00) -->
<!-- Duration: 3600 seconds (1 hour) -->

<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://sumo.dlr.de/xsd/routes_file.xsd">

    <!-- ========================================= -->
    <!-- FLOW DEFINITIONS                          -->
    <!-- Format: vehsPerHour (vehicles/hour)       -->
    <!-- Time: begin="0" end="4500" (75 minutes)   -->
    <!-- Distributed across 5 aggression levels    -->
    <!-- ========================================= -->

    <!-- ============================================== -->
    <!-- HIGHWAY THROUGH-TRAFFIC FLOWS                  -->
    <!-- Each flow split into 5 aggression levels      -->
    <!-- 20% per aggression level (vehsPerHour / 5)    -->
    <!-- ============================================== -->

    <!-- Route 1: A3_Start to A3_End (Full highway) - CARS: 1360 veh/h total = 272 per aggression level -->
    <flow id="flow_A3_full_car_aggr1" type="car_aggr1" route="route_A3_full" begin="0" end="4500" vehsPerHour="272" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_car_aggr2" type="car_aggr2" route="route_A3_full" begin="0" end="4500" vehsPerHour="272" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_car_aggr3" type="car_aggr3" route="route_A3_full" begin="0" end="4500" vehsPerHour="272" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_car_aggr4" type="car_aggr4" route="route_A3_full" begin="0" end="4500" vehsPerHour="272" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_car_aggr5" type="car_aggr5" route="route_A3_full" begin="0" end="4500" vehsPerHour="272" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 1: A3_Start to A3_End (Full highway) - TRUCKS: 50 veh/h total = 10 per aggression level -->
    <flow id="flow_A3_full_truck_aggr1" type="truck_aggr1" route="route_A3_full" begin="0" end="4500" vehsPerHour="10" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_truck_aggr2" type="truck_aggr2" route="route_A3_full" begin="0" end="4500" vehsPerHour="10" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_truck_aggr3" type="truck_aggr3" route="route_A3_full" begin="0" end="4500" vehsPerHour="10" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_truck_aggr4" type="truck_aggr4" route="route_A3_full" begin="0" end="4500" vehsPerHour="10" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_full_truck_aggr5" type="truck_aggr5" route="route_A3_full" begin="0" end="4500" vehsPerHour="10" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 2: A3_Start to WAED exit - CARS: 770 veh/h total = 154 per aggression level -->
    <flow id="flow_A3_to_WAED_car_aggr1" type="car_aggr1" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="154" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_car_aggr2" type="car_aggr2" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="154" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_car_aggr3" type="car_aggr3" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="154" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_car_aggr4" type="car_aggr4" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="154" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_car_aggr5" type="car_aggr5" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="154" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 2: A3_Start to WAED exit - TRUCKS: 20 veh/h total = 4 per aggression level -->
    <flow id="flow_A3_to_WAED_truck_aggr1" type="truck_aggr1" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_truck_aggr2" type="truck_aggr2" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_truck_aggr3" type="truck_aggr3" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_truck_aggr4" type="truck_aggr4" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_WAED_truck_aggr5" type="truck_aggr5" route="route_A3_to_WAED" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 3: A3_Start to HOR exit - CARS: 730 veh/h total = 146 per aggression level -->
    <flow id="flow_A3_to_HOR_car_aggr1" type="car_aggr1" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="146" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_car_aggr2" type="car_aggr2" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="146" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_car_aggr3" type="car_aggr3" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="146" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_car_aggr4" type="car_aggr4" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="146" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_car_aggr5" type="car_aggr5" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="146" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 3: A3_Start to HOR exit - TRUCKS: 20 veh/h total = 4 per aggression level -->
    <flow id="flow_A3_to_HOR_truck_aggr1" type="truck_aggr1" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_truck_aggr2" type="truck_aggr2" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_truck_aggr3" type="truck_aggr3" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_truck_aggr4" type="truck_aggr4" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_HOR_truck_aggr5" type="truck_aggr5" route="route_A3_to_HOR" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 4: A3_Start to THA exit - CARS: 1100 veh/h total = 220 per aggression level -->
    <flow id="flow_A3_to_THA_car_aggr1" type="car_aggr1" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="220" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_car_aggr2" type="car_aggr2" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="220" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_car_aggr3" type="car_aggr3" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="220" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_car_aggr4" type="car_aggr4" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="220" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_car_aggr5" type="car_aggr5" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="220" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 4: A3_Start to THA exit - TRUCKS: 30 veh/h total = 6 per aggression level -->
    <flow id="flow_A3_to_THA_truck_aggr1" type="truck_aggr1" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_truck_aggr2" type="truck_aggr2" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_truck_aggr3" type="truck_aggr3" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_truck_aggr4" type="truck_aggr4" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_A3_to_THA_truck_aggr5" type="truck_aggr5" route="route_A3_to_THA" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- ============================================== -->
    <!-- ENTRY RAMP FLOWS                               -->
    <!-- Using base car_aggrX and truck_aggrX types    -->
    <!-- ============================================== -->

    <!-- Route 5: WAED entry to A3_End - CARS: 780 veh/h total = 156 per aggression level -->
    <flow id="flow_WAED_to_A3_car_aggr1" type="car_aggr1" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="156" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_car_aggr2" type="car_aggr2" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="156" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_car_aggr3" type="car_aggr3" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="156" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_car_aggr4" type="car_aggr4" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="156" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_car_aggr5" type="car_aggr5" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="156" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 5: WAED entry to A3_End - TRUCKS: 20 veh/h total = 4 per aggression level -->
    <flow id="flow_WAED_to_A3_truck_aggr1" type="truck_aggr1" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_truck_aggr2" type="truck_aggr2" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_truck_aggr3" type="truck_aggr3" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_truck_aggr4" type="truck_aggr4" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_WAED_to_A3_truck_aggr5" type="truck_aggr5" route="route_WAED_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 6: HOR entry to A3_End - CARS: 690 veh/h total = 138 per aggression level -->
    <flow id="flow_HOR_to_A3_car_aggr1" type="car_aggr1" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="138" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_car_aggr2" type="car_aggr2" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="138" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_car_aggr3" type="car_aggr3" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="138" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_car_aggr4" type="car_aggr4" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="138" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_car_aggr5" type="car_aggr5" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="138" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 6: HOR entry to A3_End - TRUCKS: 20 veh/h total = 4 per aggression level -->
    <flow id="flow_HOR_to_A3_truck_aggr1" type="truck_aggr1" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_truck_aggr2" type="truck_aggr2" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_truck_aggr3" type="truck_aggr3" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_truck_aggr4" type="truck_aggr4" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_HOR_to_A3_truck_aggr5" type="truck_aggr5" route="route_HOR_to_A3" begin="0" end="4500" vehsPerHour="4" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 7: THA entry to A3_End - CARS: 1000 veh/h total = 200 per aggression level -->
    <flow id="flow_THA_to_A3_car_aggr1" type="car_aggr1" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="200" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_car_aggr2" type="car_aggr2" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="200" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_car_aggr3" type="car_aggr3" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="200" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_car_aggr4" type="car_aggr4" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="200" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_car_aggr5" type="car_aggr5" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="200" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- Route 7: THA entry to A3_End - TRUCKS: 30 veh/h total = 6 per aggression level -->
    <flow id="flow_THA_to_A3_truck_aggr1" type="truck_aggr1" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_truck_aggr2" type="truck_aggr2" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_truck_aggr3" type="truck_aggr3" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_truck_aggr4" type="truck_aggr4" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>
    <flow id="flow_THA_to_A3_truck_aggr5" type="truck_aggr5" route="route_THA_to_A3" begin="0" end="4500" vehsPerHour="6" departLane="best" departSpeed="speedLimit" insertionChecks="none"/>

    <!-- ============================================== -->
    <!-- DEMAND SUMMARY - ACTUAL DATA                   -->
    <!-- ============================================== -->
    <!--
    Total vehicles per hour (Morning Peak 07:00-08:00):

    HIGHWAY THROUGH-TRAFFIC:
    - A3_full:      1360 cars +  50 trucks = 1410 veh/h
    - A3_to_WAED:    770 cars +  20 trucks =  790 veh/h
    - A3_to_HOR:     730 cars +  20 trucks =  750 veh/h
    - A3_to_THA:    1100 cars +  30 trucks = 1130 veh/h

    ENTRY RAMPS:
    - WAED_to_A3:    780 cars +  20 trucks =  800 veh/h
    - HOR_to_A3:     690 cars +  20 trucks =  710 veh/h
    - THA_to_A3:    1000 cars +  30 trucks = 1030 veh/h

    GRAND TOTAL:    6430 cars + 190 trucks = 6620 veh/h
    -->

</routes>
